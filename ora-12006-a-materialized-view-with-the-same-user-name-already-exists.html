<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="I have a new empty schema and I'm trying to create a new materialized view the problem is that I'm having an ORA - 12006 error and I don't know wy because like I've said, the shema is empty and there's anything data in it yet..."><meta name=author content="Jenniffer Sheldon"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=ByteZest><title>ORA-12006: a materialized view with the same user.name already exists - ByteZest</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[ByteZest]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-08-29>August 29, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>ORA-12006: a materialized view with the same user.name already exists</h1><section class=body itemprop=articleBody><img src=https://cdn.statically.io/img/cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto><p>I have a new empty schema and I'm trying to create a new materialized view the problem is that I'm having an ORA - 12006 error and I don't know wy because like I've said, the shema is empty and there's anything data in it yet...</p><p>My query seems like:</p><pre><code>CREATE MATERIALIZED VIEW mySchema.mvName (column1,column2) TABLESPACE myTablespace REFRESH COMPLETE ON DEMAND WITH PRIMARY KEY AS SELECT DISTINCT column1,column2 AS alias FROM anotherSchema.table@dblink WHERE condition1; / </code></pre><p>I have alredy create the grants to the dblink.</p><p>Could anybody hep me? Thanks!!</p><span class=d-none itemprop=commentCount>1</span><h2 class=mb0 data-answercount=2>2 Answers</h2><p>If the code in the question is <strong>exactly</strong> what you run in SQL*Plus then this is expected.</p><p>You don't need a <code>;</code> <strong>and</strong> a <code>/</code> for a SQL statement in SQL*Plus. The <code>;</code> is enough. You only need the <code>/</code> for PL/SQL.</p><p>In fact in your case the <code>/</code> is the reason why you get the error.</p><p>In a nutshell: when SQL*Plus reaches the <code>;</code> it creates the materialized view. It then reaches the <code>/</code> which means "run the statement in the buffer". And therefor the create mview is executed again - obviously generating an error.</p><p>See my related answer regarding this topic for more details:<br><a href=#>https://stackoverflow.com/a/10207695/330315</a></p><span class=d-none itemprop=commentCount>2</span><p>Simply you can check if you have access to the dictionaries</p><pre><code>select object_name,object_type,owner from dba_objects where object_name='yourobject'; </code></pre><p>Or a very basic check with select</p><pre><code>SELECT * FROM &lt;source user&gt;.&lt;source table&gt;@&lt;database link&gt; </code></pre><p>Even Sylvain's question is very much applicable</p><pre><code>DROP MATERIALIZED VIEW myschema.mvname; </code></pre><p>and then try to create view.</p><p>If the error is for snapshot, then check for duplicates in it</p><pre><code>SELECT * FROM all_snapshots ; </code></pre><span class=d-none itemprop=commentCount></span><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmirpJawrLvVnqmfpJ%2Bse6S7zGiorp2jqbawutJoaW9uZ2h%2BcoKOqKmaZWFnfXGCjJpkppmkmr%2BqrcuisZ6cXau2psOMsKCtoF2ptaZ50pqknmWlqLKzec2apJ5lkaG%2Fpq3DsmSesJmowbQ%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 ByteZest - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://iklan.listspress.com/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>